<!DOCTYPE html>
<html>

<head>
<script type="text/javascript" src="../lib_js_web3/web3.js"></script>
<script type="text/javascript">

	//module.exports = {
  //      "externals": {
	//		"fs": "require('fs')"
	//	}
	//}

	Web3 = require('web3')
	provider = new Web3.providers.HttpProvider("http://localhost:8545")
	web3 = new Web3(provider)

	//deployContract
	function deployContract() {

		// load files
		var fs = require('fs-extra');
		myTokenABIFile = fs.readFileSync('MyToken_sol_MyToken.abi')
		myTokenABI  = JSON.parse(myTokenABIFile.toString())
		myTokenBINFile = fs.readFileSync('MyToken_sol_MyToken.bin')
		myTokenByteCode = myTokenBINFile.toString()

		//deploy
		account = web3.eth.accounts[0]
		MyTokenContract = web3.eth.contract(myTokenABI)
		contractData = { data: myTokenByteCode, from: account, gas: 999999 }
		deployedContract = MyTokenContract.new(contractData)

		console.log('deployedContract.address: ' + deployedContract.address)
	}


</script>
</head>
<body>
    <h1>Deploy Contract</h1>
    <button type="button" onClick="deployContract();">Deploy Contract</button>
</body>
</html>
